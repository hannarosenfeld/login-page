{"version":3,"file":"component---src-pages-app-js-d785129b787d45157e72.js","mappings":"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","sources":["webpack://gatsby-starter-hello-world/./src/components/nav-bar.js","webpack://gatsby-starter-hello-world/./src/components/layout.js","webpack://gatsby-starter-hello-world/./src/components/privateRoute.js","webpack://gatsby-starter-hello-world/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://gatsby-starter-hello-world/./src/components/profile.js","webpack://gatsby-starter-hello-world/./src/components/login.js","webpack://gatsby-starter-hello-world/./src/pages/app.js","webpack://gatsby-starter-hello-world/./src/services/auth.js"],"sourcesContent":["import React from \"react\"\nimport { Link, navigate } from \"gatsby\"\nimport { getUser, isLoggedIn, logout } from \"../services/auth\"\n\nexport default function NavBar() {\n  let greetingMessage = \"\"\n  if (isLoggedIn()) {\n    greetingMessage = `Hello ${getUser().name}`\n  } else {\n    greetingMessage = \"You are not logged in\"\n  }\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flex: \"1\",\n        justifyContent: \"space-between\",\n        borderBottom: \"1px solid #d1c1e0\",\n      }}\n    >\n      <span>{greetingMessage}</span>\n      <nav>\n        <Link to=\"/\">Home</Link>\n        {` `}\n        <Link to=\"/app/profile\">Profile</Link>\n        {` `}\n        {isLoggedIn() ? (\n          <a\n            href=\"/\"\n            onClick={event => {\n              event.preventDefault()\n              logout(() => navigate(`/app/login`))\n            }}\n          >\n            Logout\n          </a>\n        ) : null}\n      </nav>\n      </div>\n  )\n}\n","import React from \"react\"\nimport \"./layout.css\"\n\nimport NavBar from \"./nav-bar\"\n\nconst Layout = ({ children }) => (\n  <div class=\"layout\">\n    <NavBar />\n    {children}\n    </div>\n)\n\nexport default Layout\n","import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { isLoggedIn } from \"../services/auth\"\n\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  if (!isLoggedIn() && location.pathname !== `/app/login`) {\n    navigate(\"/app/login\")\n    return null\n  }\n\n  return <Component {...rest} />\n}\n\nexport default PrivateRoute\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\"\nimport { getUser } from \"../services/auth\"\n\nconst Profile = () => (\n    <div class=\"profile-window\">\n    <h1>Your profile</h1>\n    <ul>\n    <li>Name: {getUser().name}</li>\n    <li>E-mail: {getUser().email}</li>\n    </ul>\n    </div>\n)\n\nexport default Profile\n","import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { handleLogin, isLoggedIn } from \"../services/auth\"\n\nclass Login extends React.Component {\n  state = {\n    username: ``,\n    password: ``,\n  }\n\n  handleUpdate = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault()\n    handleLogin(this.state)\n  }\n\n  render() {\n    if (isLoggedIn()) {\n      navigate(`/app/profile`)\n    }\n\n    return (\n      <div class=\"login-window\">\n        <h1>Log in</h1>\n        <form\n          class=\"login-fields\"\n          method=\"post\"\n          onSubmit={event => {\n            this.handleSubmit(event)\n            navigate(`/app/profile`)\n          }}\n        >\n          <label>\n            <input type=\"text\" name=\"username\" placeholder=\"username\"onChange={this.handleUpdate} />\n          </label>\n          <label>\n            <input\n              type=\"password\"\n              name=\"password\"\n        onChange={this.handleUpdate}\n        placeholder=\"password\"\n            />\n          </label>\n          <input class=\"submit-button\"type=\"submit\" value=\"Log In\" />\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default Login\n","import React from \"react\"\nimport { Router } from \"@reach/router\"\nimport Layout from \"../components/layout\"\nimport PrivateRoute from \"../components/privateRoute\"\nimport Profile from \"../components/profile\"\nimport Login from \"../components/login\"\n\nconst App = () => (\n    <Layout>\n    <Router>\n    <PrivateRoute path=\"/app/profile\" component={Profile} />\n    <Login path=\"/app/login\" />\n    </Router>\n    </Layout>\n)\n\nexport default App\n","export const isBrowser = () => typeof window !== \"undefined\"\n\nexport const getUser = () =>\n  isBrowser() && window.localStorage.getItem(\"gatsbyUser\")\n    ? JSON.parse(window.localStorage.getItem(\"gatsbyUser\"))\n    : {}\n\nconst setUser = user =>\n  window.localStorage.setItem(\"gatsbyUser\", JSON.stringify(user))\n\nexport const handleLogin = ({ username, password }) => {\n  if (username === `Hanna` && password === `hzr`) {\n    return setUser({\n      username: `Hanna`,\n      name: `Hanna`,\n      email: `hannazrosenfeld@gmail.com`,\n    })\n  }\n\n  return false\n}\n\nexport const isLoggedIn = () => {\n  const user = getUser()\n\n  return !!user.username\n}\n\nexport const logout = callback => {\n    setUser({})\n    callback()\n}\n"],"names":["NavBar","greetingMessage","isLoggedIn","getUser","name","style","display","flex","justifyContent","borderBottom","to","href","onClick","event","preventDefault","logout","navigate","children","class","Component","component","location","rest","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","pathname","email","Login","state","username","password","handleUpdate","setState","value","handleSubmit","handleLogin","render","method","onSubmit","type","placeholder","onChange","this","React","Router","path","Profile","window","localStorage","getItem","JSON","parse","setUser","user","setItem","stringify","callback"],"sourceRoot":""}